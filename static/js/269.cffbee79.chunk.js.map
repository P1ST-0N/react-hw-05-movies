{"version":3,"file":"static/js/269.cffbee79.chunk.js","mappings":"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","sources":["webpack://react-hw-05-movies/./src/components/Movies/movies.module.css?968c","components/Movies/Movies.jsx","shared/services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"title\":\"movies_title__MX82a\",\"wrap\":\"movies_wrap__SZAhi\",\"movieForm\":\"movies_movieForm__vfPVe\",\"movieInput\":\"movies_movieInput__07n3c\",\"btn\":\"movies_btn__3K2Up\",\"list\":\"movies_list__Zta9o\",\"listItem\":\"movies_listItem__dDP2V\"};","import { useState, useEffect } from \"react\";\r\nimport { Link, useSearchParams, useLocation } from \"react-router-dom\";\r\nimport { searchMovie } from \"../../shared/services/api\";\r\nimport css from \"./movies.module.css\";\r\n\r\nconst Movies = () => {\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const searchQuery = searchParams.get(\"query\");\r\n\r\n  const [query, setQuery] = useState(() => searchQuery || \"\");\r\n\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const { results } = await searchMovie(searchQuery);\r\n        setData(results);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.log(error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    if (searchQuery) {\r\n      getData();\r\n    }\r\n  }, [searchQuery]);\r\n\r\n  const handleChange = (e) => {\r\n    setQuery(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setSearchParams({ query: query });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={css.wrap}>\r\n        <h2 className={css.title}>Search movies:</h2>\r\n\r\n        <form onSubmit={handleSubmit} className={css.movieForm}>\r\n          <input\r\n            value={query}\r\n            onChange={handleChange}\r\n            name=\"search\"\r\n            type=\"text\"\r\n            placeholder=\"Type here\"\r\n            className={css.movieInput}\r\n          />\r\n          <button type=\"submit\" className={css.btn}>\r\n            Search\r\n          </button>\r\n        </form>\r\n      </div>\r\n      <ul className={css.list}>\r\n        {searchQuery ? (\r\n          loading ? (\r\n            \"Loading...\"\r\n          ) : data.length > 0 ? (\r\n            data.map(({ title, id }) => (\r\n              <li key={id} className={css.listItem}>\r\n                <Link state={{ from: location }} to={`/movies/${id}`}>\r\n                  {title}\r\n                </Link>\r\n              </li>\r\n            ))\r\n          ) : (\r\n            <p>\r\n              No movies with this title were found. Try entering another title\r\n            </p>\r\n          )\r\n        ) : (\r\n          <p className={css.descr}></p>\r\n        )}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Movies;\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://api.themoviedb.org/3\",\r\n  params: {\r\n    api_key: \"31449444226ba6345698313fe055564a\",\r\n    language: \"en-US\",\r\n  },\r\n});\r\n\r\nexport async function getTrendingMovies() {\r\n  const query = `/trending/movie/week`;\r\n  try {\r\n    const { data } = await instance.get(query);\r\n    return data.results;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getMovieDetails(id) {\r\n  const query = `/movie/${id}`;\r\n  try {\r\n    const { data } = await instance.get(query);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getMovieCast(id) {\r\n  const query = `/movie/${id}/credits`;\r\n  try {\r\n    const { data } = await instance.get(query);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getMovieReviews(id) {\r\n  const query = `/movie/${id}/reviews`;\r\n  try {\r\n    const { data } = await instance.get(query);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function searchMovie(queryString) {\r\n  const query = `/search/movie?query=${queryString}`;\r\n  try {\r\n    const { data } = await instance.get(query);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n"],"names":["_useState","useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","loading","setLoading","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","searchQuery","get","_useState5","_useState6","query","setQuery","location","useLocation","useEffect","getData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$searchMovie","results","wrap","_context","prev","next","searchMovie","sent","t0","console","log","finish","stop","apply","arguments","_jsxs","_Fragment","children","className","css","_jsx","onSubmit","e","preventDefault","value","onChange","target","name","type","placeholder","length","map","_ref2","title","id","Link","state","from","to","concat","instance","axios","baseURL","params","api_key","language","getTrendingMovies","_getTrendingMovies","_yield$instance$get","abrupt","getMovieDetails","_x","_getMovieDetails","_callee2","_yield$instance$get2","_context2","getMovieCast","_x2","_getMovieCast","_callee3","_yield$instance$get3","_context3","getMovieReviews","_x3","_getMovieReviews","_callee4","_yield$instance$get4","_context4","_x4","_searchMovie","_callee5","queryString","_yield$instance$get5","_context5"],"sourceRoot":""}