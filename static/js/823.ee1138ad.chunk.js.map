{"version":3,"file":"static/js/823.ee1138ad.chunk.js","mappings":"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","sources":["webpack://react-hw-05-movies/./src/components/MovieDetails/movie-details.module.css?79a2","components/MovieDetails/MovieDetails.jsx","shared/services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"img\":\"movie-details_img__nHJ1m\",\"imgWrap\":\"movie-details_imgWrap__h6fcR\",\"descrWrap\":\"movie-details_descrWrap__yiqJB\",\"btn\":\"movie-details_btn__HLS8K\",\"btnList\":\"movie-details_btnList__DJ02Z\",\"castBtn\":\"movie-details_castBtn__1jAAr\",\"reviewsBtn\":\"movie-details_reviewsBtn__Uq-6l\",\"descrTitle\":\"movie-details_descrTitle__pWkPj\"};","import { useParams, Link, Outlet, useLocation } from \"react-router-dom\";\r\nimport { useState, useEffect, Suspense } from \"react\";\r\nimport { getMovieDetails } from \"../../shared/services/api\";\r\nimport css from \"./movie-details.module.css\";\r\nimport noMovieImg from \"../../img/no-poster-available.jpg\";\r\n\r\nconst MovieDetails = () => {\r\n  const { movieId } = useParams();\r\n\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const data = await getMovieDetails(movieId);\r\n        setData(data);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.log(error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    getData();\r\n  }, [movieId]);\r\n\r\n  const getYear = (releaseDate) => {\r\n    const date = new Date(releaseDate);\r\n    return date.getFullYear();\r\n  };\r\n\r\n  const getGenres = (arrGenres) => {\r\n    return arrGenres.map((genre) => genre.name).join(\", \");\r\n  };\r\n\r\n  const location = useLocation();\r\n\r\n  const cameBack = location.state?.from ?? \"/\";\r\n\r\n  return (\r\n    <>\r\n      <Link className={css.btn} to={cameBack}>\r\n        Go Back\r\n      </Link>\r\n      {loading ? (\r\n        \"Loading...\"\r\n      ) : (\r\n        <>\r\n          <div className={css.imgWrap}>\r\n            {data.poster_path ? (\r\n              <img\r\n                className={css.img}\r\n                alt={data.original_title}\r\n                src={`https://image.tmdb.org/t/p/w500${data.poster_path}`}\r\n              />\r\n            ) : (\r\n              <img className={css.img} src={noMovieImg} alt=\"not available\" />\r\n            )}\r\n\r\n            <div className={css.descrWrap}>\r\n              <h1>\r\n                {data.original_title} ({getYear(data.release_date)})\r\n              </h1>\r\n              <p className={css.descrTitle}>\r\n                User Score: {~~(data.vote_average * 10)}%\r\n              </p>\r\n              <p className={css.descrTitle}>Overview</p>\r\n              <p>{data.overview}</p>\r\n              <p className={css.descrTitle}>Genres</p>\r\n              <p>{getGenres(data.genres)}</p>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <ul className={css.btnList}>\r\n              <li>\r\n                <Link to=\"cast\" state={{ from: cameBack }}>\r\n                  <button className={css.castBtn}>Cast</button>\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"reviews\" state={{ from: cameBack }}>\r\n                  <button className={css.reviewsBtn}>Reviews</button>\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <Suspense fallback={<div>Loading subpage...</div>}>\r\n            <Outlet />\r\n          </Suspense>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MovieDetails;","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://api.themoviedb.org/3\",\r\n  params: {\r\n    api_key: \"31449444226ba6345698313fe055564a\",\r\n    language: \"en-US\",\r\n  },\r\n});\r\n\r\nexport async function getTrendingMovies() {\r\n  const query = `/trending/movie/week`;\r\n  try {\r\n    const { data } = await instance.get(query);\r\n    return data.results;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getMovieDetails(id) {\r\n  const query = `/movie/${id}`;\r\n  try {\r\n    const { data } = await instance.get(query);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getPersonDetails(id) {\r\n  const query = `/person/${id}`;\r\n  try {\r\n    const { data } = await instance.get(query);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getMovieCast(id) {\r\n  const query = `/movie/${id}/credits`;\r\n  try {\r\n    const { data } = await instance.get(query);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getMovieReviews(id) {\r\n  const query = `/movie/${id}/reviews`;\r\n  try {\r\n    const { data } = await instance.get(query);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function searchMovie(queryString) {\r\n  const query = `/search/movie?query=${queryString}`;\r\n  try {\r\n    const { data } = await instance.get(query);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n"],"names":["_location$state$from","_location$state","movieId","useParams","_useState","useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","loading","setLoading","useEffect","getData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_data","wrap","_context","prev","next","getMovieDetails","sent","t0","console","log","finish","stop","apply","arguments","arrGenres","releaseDate","cameBack","useLocation","state","from","_jsxs","_Fragment","children","_jsx","Link","className","css","to","poster_path","alt","original_title","src","concat","noMovieImg","release_date","Date","getFullYear","vote_average","overview","genres","map","genre","name","join","Suspense","fallback","Outlet","instance","axios","baseURL","params","api_key","language","getTrendingMovies","_getTrendingMovies","_yield$instance$get","get","abrupt","results","_x","_getMovieDetails","_callee2","id","query","_yield$instance$get2","_context2","getPersonDetails","_x2","_getPersonDetails","_callee3","_yield$instance$get3","_context3","getMovieCast","_x3","_getMovieCast","_callee4","_yield$instance$get4","_context4","getMovieReviews","_x4","_getMovieReviews","_callee5","_yield$instance$get5","_context5","searchMovie","_x5","_searchMovie","_callee6","queryString","_yield$instance$get6","_context6"],"sourceRoot":""}